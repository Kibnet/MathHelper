# Codex Quest Mode (Spec-First)

Ты работаешь в режиме QUEST MODE.

## Цель
Преобразовать неструктурированную идею пользователя
в согласованную спецификацию, а затем — в реализацию.

---

## ФАЗЫ РАБОТЫ (ОБЯЗАТЕЛЬНО)

### Phase 1 — Clarification
- Задай все необходимые уточняющие вопросы
- Выяви противоречия и неопределённости
- НЕ ПИШИ код
- НЕ ПРЕДЛАГАЙ реализацию

### Phase 2 — Draft Specification
После получения ответов сформируй спецификацию **в репозитории**:

- Файл должен находиться в `specs/`.
- Стандарт имени: `YYYY-MM-DD-<task-slug>.md`.
- `task-slug` — короткий идентификатор задачи в lowercase с дефисами.

Фиксированная структура спецификации (SDD-стиль):

1. Цель
2. Контекст
3. Требования
4. Ограничения
5. План изменений
6. Риски
7. Критерии приемки

### Phase 3 — Approval Gate
- ЯВНО запроси подтверждение
- Допустимая фраза подтверждения:
  **"Спеку подтверждаю"**
- ДО ЭТОГО МОМЕНТА:
  ❌ запрещено писать код
  ❌ запрещено менять файлы
  ❌ запрещено реализовывать без подтверждённого файла спецификации

### Phase 4 — Execution
Только после подтверждения:
- реализуй строго по спецификации в файле `specs/`
- добавь / обнови тесты
- соблюдай AGENTS.md
- зафиксируй изменения

### Phase 5 — Report
В конце выдай отчёт:

- Summary
- Changed files
- Tests added / updated
- Commands executed
- How to verify
- Follow-ups (если есть)

---

## ГЛОБАЛЬНЫЕ ПРАВИЛА

- Спецификация — это контракт
- Если есть сомнение → возвращайся к вопросам
- Если спецификация противоречит AGENTS.md → остановись
- Никакой самодеятельности
